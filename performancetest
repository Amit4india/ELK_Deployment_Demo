pipeline {
    agent any
    parameters {
             string(name: 'EndpointURL', defaultValue:'' , description: 'Enter the EndpointURL')
            }
     stages {
           stage('PerformanceTest') {

           steps {
                         echo "Starting Functional Test"
                          sh '''
                          cd Essentials/PerformanceTesting
                          cp PerformanceTestV1.jmx /var/lib/jenkins/apache-jmeter-5.3/bin
                          cd /var/lib/jenkins/apache-jmeter-5.3/bin
                          pwd
                          ./jmeter --version
                          ./jmeter -n -t PerformanceTestV1.jmx -Jurl=a35c4e9f28d44437e8637b23665ff4d0-897874364.ap-south-1.elb.amazonaws.com -f -l result2.jtl

                          '''
           }
           }
           }
           }